####################
#  Global options  #
####################

# Ensure that tmux passes xterm keys on to vim
set-window-option -g xterm-keys on

# set a new prefix key
set-option -g prefix C-a
unbind C-b
bind-key C-a send-prefix

# use 1 based index
set-option -g base-index 1 
# Renumber windows after removing one
set -g renumber-windows on

# use latest bash
set-option -g default-shell /usr/local/bin/bash

# vi bindings
setw -g mode-keys vi

# colors
set-option -g default-terminal "screen-256color"

# enable full mouse support
set-option -g mouse on

# Automatically set window title
set-window-option -g automatic-rename

#################
#  Status line  #
#################

# content
set-option -g status-left '[#S] '
set-option -g status-left-length 25
set-option -g status-right '%a, %b %d %l:%M '
# styles
set-option -g status-style default
set-option -g window-status-current-style bg=#686DC0,fg=white
set-option -g status-style bg=#666666,fg=#aaaaaa
#set-option -g status-style bg=colour235,fg=colour136

##################
#  Key bindings  #
##################

# Simpler command mode
unbind ';'
bind-key ';' command-prompt

# Window management
# make sure to open new panes/windows into
# the current directory.
unbind %
bind-key '\' split-window -h -c "#{pane_current_path}"
bind-key - split-window -v -c "#{pane_current_path}"
bind-key c new-window -c "#{pane_current_path}"
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
bind-key C-a last-window

# source tmux conf
bind-key r source-file $HOME/.tmux.conf \; \
    display-message "source-file done"


#############
#  Plugins  #
#############

set-option -g @plugin 'tmux-plugins/tpm'
set-option -g @plugin 'tmux-plugins/tmux-sensible'
set-option -g @plugin 'tmux-plugins/tmux-resurrect'

# Intialize TMUX plugin manager (kep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'
